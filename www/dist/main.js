var x=function(){if(Q===null||Q.byteLength===0)Q=new Uint8Array(J.memory.buffer);return Q},D=function(k,B){return k=k>>>0,A.decode(x().subarray(k,k+B))},T=function(k){return()=>{throw new Error(`${k} is not defined`)}};async function Z(k,B){if(typeof Response==="function"&&k instanceof Response){if(typeof WebAssembly.instantiateStreaming==="function")try{return await WebAssembly.instantiateStreaming(k,B)}catch(N){if(k.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",N);else throw N}const F=await k.arrayBuffer();return await WebAssembly.instantiate(F,B)}else{const F=await WebAssembly.instantiate(k,B);if(F instanceof WebAssembly.Instance)return{instance:F,module:k};else return F}}var S=function(){const k={};return k.wbg={},k.wbg.__wbg_random_9f310ce86e57ad05=typeof Math.random=="function"?Math.random:T("Math.random"),k.wbg.__wbindgen_throw=function(B,F){throw new Error(D(B,F))},k},C=function(k,B){},H=function(k,B){return J=k.exports,j.__wbindgen_wasm_module=B,Q=null,J};async function j(k){if(J!==void 0)return J;if(typeof k==="undefined")k=new URL("conway_life_bg.wasm",import.meta.url);const B=S();if(typeof k==="string"||typeof Request==="function"&&k instanceof Request||typeof URL==="function"&&k instanceof URL)k=fetch(k);C(B);const{instance:F,module:N}=await Z(await k,B);return H(F,N)}var J,A=typeof TextDecoder!=="undefined"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};if(typeof TextDecoder!=="undefined")A.decode();var Q=null,R=Object.freeze({Dead:0,"0":"Dead",Alive:1,"1":"Alive"});class X{static __wrap(k){k=k>>>0;const B=Object.create(X.prototype);return B.__wbg_ptr=k,B}__destroy_into_raw(){const k=this.__wbg_ptr;return this.__wbg_ptr=0,k}free(){const k=this.__destroy_into_raw();J.__wbg_universe_free(k)}get_index(k,B){return J.universe_get_index(this.__wbg_ptr,k,B)>>>0}tick(){J.universe_tick(this.__wbg_ptr)}static new(k,B){const F=J.universe_new(k,B);return X.__wrap(F)}sprincle(k){J.universe_sprincle(this.__wbg_ptr,k)}cells(){return J.universe_cells(this.__wbg_ptr)>>>0}}var G=j;var K=5,v="#000000",y="#ED1C24",V=Math.floor(window.innerWidth/K),q=Math.floor(window.innerHeight/K);G().then((k)=>{const B=X.new(V,q),F=V,N=q,f=document.getElementById("game-of-life-canvas");f.height=K*q,f.width=K*V;const Y=f.getContext("2d"),O=()=>{const W=B.cells(),M=new Uint8Array(k.memory.buffer,W,F*N);Y.beginPath();for(let $=0;$<N;$++)for(let P=0;P<V;P++){const b=B.get_index($,P);Y.fillStyle=M[b]===R.Dead?v:y,Y.fillRect(P*K+1,$*K+1,K,K)}Y.stroke()};let I=0;const z=()=>{B.tick(),O(),setTimeout(()=>requestAnimationFrame(z),50)};requestAnimationFrame(z)});
